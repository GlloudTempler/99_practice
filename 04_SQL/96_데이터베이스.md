# ddl 익스포트 선택 : byte 키워드 추가, 권한 부여 , 스키마 표시

# ddl 익스포트 항목에서 백업을 하고자 하는 데이터베이스에 대한 객체를 생성하는 스크립트를 선택
  
# hot backup : 아카이브 모드에서만 백업 , 데이터파일/컨트롤 파일만 백업, 테이블스페이스 단위 백업

# hot backup : 아카이브 모드에서만 백업 

# 물리적 백업은 데이터베이스를 구성하는 파일들을 그대로 복사하는 방법임

# 백업 방식 중 백업과 복구가 테이블 스페이스 단위인 것끼리 짝 : HOT BACKUP - COLD BACKUP

# 속도 가장 빠른 백업 : COLD BACKUP

# 온라인 백업 : HOT BACKUP, RMAN BACKUP, EXPORT BACKUP

# 하드웨어의 손상, 분실, 파괴 등이나 해킹, 랜섬웨어와 같은 소프트웨어적인 공격 대비 : 백업

# All_데이터 딕셔너리 뷰를 이용하여 해당 사용자가 접귾할 수 있는 모든 객체에 대한 정보를 조회

# 데이터 딕셔너리에 저장된 데이터는 오라클 서버에 의해 자동으로 갱신이 되고 데이터베이스 관리자나 일반 사용자는 읽기 전용 뷰에 의해 데이터 딕셔너리의 내용을 조회만 할 수 있다.

# 서브쿼리에 대한 설명 : 1) 다른 테이블의 구조와 데이터를 복사 2) 복사하려는 테이블의 컬럼의 수와 데이터 타입과 서브쿼리 절의 컬럼 수와 데이터 타입은 일치해야한다. 3) 테이블 생성 시 컬럼명을 지정하지 않을 경우에는 서브쿼리의 컬럼명과 동일한 컬럼명으로 생성된다.

# desc 명령어로 확인 : 테이블 구조, 데이터 유형, 컬럼명

# 시퀀스 조회 : select * form user_sequences

# 오라클은 필요에 따라 하나의 테이블에도 여러 개의 시퀀스를 사용하여 데이터를 저장

# currval 은 nextval 을 최소 한 번은 실행한 세션에서만 사용 가능

# 시퀀스의 현재 번호 : currval

# 시퀀스 값 증가 : nextval

# 시퀀스 : increment by : 시퀀스 실행 시 증가시킬 값
#        maxvalue : 시퀀스가 가질 수 있는 최댓값
#        cycle : 시퀀스의 최댓값 도달 시 최솟값으로 다시 반복 여부

# 오라클은 auto increment 와 같은 자동 증가 칼럼을 지원 안함

# 뷰에 대한 설명 : 단순 뷰에서는 insert, update 할 수 있음
#               단순 뷰에서는 group by 할 수 없다.
#               복합 뷰에서는 그룹함수를 사용 가능하다.

# 뷰에 대한 설명2 : 테이블의 조인이나 그룹핑 같은 복잡한 쿼리를 만들어 놓고 필요할 때 사용
#                뷰는 함수를 사용하듯이 필요할 때 사용
#                여러 테이블의 필요한 컬럼만으로 만들어 데이터 보안 기능

# 뷰에 대한 설명3 : 테이블의 컬럼을 모아 놓은 가상 테이블
#               테이블 뿐만 아니라 다른 뷰를 참조해서 새로운 뷰를 만들수 있다
#               테이블 또는 테이블들에서 필요한 컬럼들을 모아 가상의 테이블을 만들 수 있다

# ROWID : BLOCK 번호, ROW 번호, DATA OBJECT 번호

# 오라클에서 데이터 고유주소 : ROWID

# 인덱스 리빌드 : ALTER INDEX 인덱스명 REBUILD; 

# 리빌드가 필요한 인덱스 레벨 : 레벨 4

# SELEC * FROM USER_INDEXES WHERE TABLE_NAME = 테이블명

# 인덱스의 NONUNIQUE 인덱스 : 중복 허용

# CREATE UNIQUE INDEX 인덱스명  on 테이블명 : 중복 방지 인덱스

# 인덱스 설명 : 1) 데이터 수정 많이 발생하는 테이블에서는 오히려 효율 떨어짐
#            2) 인덱스를 유지하기 위해 insert, update, delete 가 발생하면 인덱스 다시 계산

# 검색 결과에 해당하는 데이터가 테이블의 전체 데이터 중에서 10 ~ 15% 이하인 경우가 효율적

# 인덱스를 사용해야 하는 경우 : order by 절에 자주 사용
#                        행의 개수가 많을 때
#                        where 절에서 자주 조회되는 컬럼

# 스칼라 서브쿼리는 select 절에서 하나의 컬럼처럼 사용됨

# FROM 절에 너무 많은 서브쿼리를 지정하면 가독성이 떨어지기 때문에 WITH 절을 사용해서 정리

# 특정 테이블에 있는 전체 데이터가 아닌 select 문을 통해 일부 데이터를 먼저 추출할 수 있고 별칭을 지정하여 사용 : 인라인뷰

# 서브쿼리의 결과 값이 1개 이상 있으면 참이 되는 경우로 이때는 메인쿼리를 실행하고, 거짓이면 메인쿼리를 실행하지 않음 : Exists

# 서브쿼리가 올수 있는 위치 : 1) from 절 2) having 절, 3) update 문 set 절

# 서브쿼리 설명 : 서브쿼리는 괄호로 둘러쌰야 함
#             단일 해 비교 연산자는 결과가 반드시 1건 이하여야 함
#             order by 사용 못함

# 스칼라 서브쿼리 하나의 컬럼처럼 사용되는 서브쿼리다.

# 서브쿼리 실행 방식 : 단일행, 복수행, 복수열 서브쿼리 : 일반 서브쿼리

# 하나의 sql 문 안에 포함되어 있는 또다른 sql 문을 말함 : 서브쿼리

# 시작을 left join 으로 했다면 보통의 경우는 나머지 조인도 left join 함

# left join 시에 가장 첫 번째 테이블은 select 문에 가장 많은 열을 가져와야 할 테이블을 먼저 적어야 한다.

# 위계성 나타낼때, 데이터 사이에 여러 관계성 있을 때 : 셀프, 셀프조인

# 조인은 학생 테이블과 전공 테이블에 공통으로 갖고 잇는 전공코드를 이용하여 학생의 전공명을 출력 : 내부 조인 

# full outer join 의 모든 데이터와 null 값까지 출력한다. 

# 조인 설명 2 : 1) 조인 조건에는 테이블 간의 관계 표현
#             2) from 절에서는 조인할 테이블과 테이블의 별명을 지정
#            3) 조인 조건에 = 가 있는 것이 내부 조인이다.

# 분석함수에서 사용하는 행별 그룹을 윈도우라고 한다.

# count, max, min 함수는 문자, 숫자, 날자 데이터 형에서 사용할 수 있음

# 집계 함수는 테이블의 하나 이상의 컬럼을 그룹으로 묶어 계산 결과를 출력하는 함수임

# 집계 함수에서 null 은 계산에서 제외됨

# 그룹함수에는 그룹의 소계를 계산하는 rollup 과 특정항목에 대한 소계를 계산하는 grouping sets 함수가 있음

# 그룹 함수에는 그룹의 소계를 계산하는 rollup 과 group by 항목에 대한 다차원적인 소계를 계산하는 cube 가 있다.

#  avg : 평균, max : 최대값, stddev : 표준 편차, count(*) 널값을 포함한 모든 행
#  count(컬럼) : null 값을 제외한 행의 수

# 숫자를 날짜형으로 변환 : to_char -> to_date 2번 사용해야함

# to_char 변환 함수는 숫자난 날짜를 문자형으로 변환

# 현변환은 암시적 변환과 명시적 형 변환이 있다 암시적형 변환은 오라클에서 임의로 판단하여 형변환을 하는 것이다.

# 단순하게 데이터 타입의 변환은 cast 함수를 사용하고, 데이터 타입의 변환과 포맷이 필요한 경우는 to_char, to_number 사용

# to_lob() 함수는 long 또는 long row 값을 lob 값으로 변환

# dual 테이블의 소유자는 sys 이며 모든 사용자가 select 할 수 있도록 되어 있다.

# null 값을 체크하여 다른 값으로 치환하는 함수 : nvl , nvl2, coalesce

# 다음 중 숫자 함수 : bitand(x,y) , ceil(값), floor(값)

# dual 테이블에 대한 설명 : 1) 오라클에서 자체 제공 
#                      2) 간단한 함수의 계산이나 임시 계산 값을 확인할 때 사용
#                      3) 테이블 생성 없이 가상의 데이터를 테스트 할 때 사용

# 롤백 세그먼트의 헤더에는 현재 세그먼트를 사용하고 있는 트랜잭션에 대한 정보를 저장하는 트랜잭션 테이블을 포함하고 있다

# 롤백 세그먼트란 트랜잭션을 실행할 때 그 이전 이미지를 기록하기 위해 사용되는 원형구조의 세그먼트

# 오류나 어떤 문제가 발생하였을 때 하나의 트랜잭션을 취소하는 명령으로, 시스템에 비정상이 됩니다. : 롤백

# auto commit : 1) create  2) alter 3) grant

# 트랜잭션 제어어(tcl) : commit, rollback. set transaction

# 트랜잭션이란 dbms 에서 발생하는 1개 이상의 sql 명령들을 하나의 논리 집합으로 묶어 놓은 단위

# truncate table 테이블명 : delete 문을 사용하지 않고 테이블의 모든 행을 삭제

# 관계형 데이터베이스에서 작성된 sql 문에 오류가 없다고 해서 실행하는데 문제가 없지는 않음

# update / delete 문 모두 where 조건절을 생략 가능

# update 문의 set 절에는 컬럼이 여러개 올수 있음

# 부자간의 관계로 연결된 테이블에서, 무결성 제약 조건을 위배하지 않기 위해 두 테이블 모두에서  신경써야 할 명령문 : update

# group by 절에서는 칼럼 별명은 사용할 수 없음

# order by 절은 출력 결과를 정렬하여 보여줄 때 사용하며 기본값은 오름차순(asc)정렬임

# sql 문에서 like 검색 시 모든 문자열을 뜻하는 글자 : %

# having : 1) 그룹 조건 검색을 할 때 사용 2) order by 절과 같이 사용
#          3) where 절은 검색이 컬럼에 적용, having 은 그룹 함수에 적용됨